{% extends 'layout.twig' %}

{% block content %}
  <h2>{{ app.translator.trans('gallery.latest.pictures') }}</h2>

  {% if page.images %}
  <div id="gallery">
    <div id="pictures" class="clearfix">
      {% for image in page.images %}
        <div class="picture three columns">
          <a href="{{ url('gallery_picture', {'galleryId' : page.gallery.id, 'pictureId' : image.id}) }}" title="{{ image.title }}">
            <img src="{{ path('thumb', {'file' : image.url, 'dimension' : 200}) }}" alt="" class="scale-with-grid">
            <span class="caption">{{ app.translator.trans('gallery.picture.caption', {'%user_name%':image.first_name, '%date%':image.created_date}) }}</span>
          </a>
          <fb:like send="false" layout="button_count" width="450" show_faces="false" href="{{ url('gallery_picture', {'galleryId' : page.gallery.id, 'pictureId' : image.id}) }}" ref="POMPdeLUX"></fb:like>
        </div>
      {% endfor %}
    </div>
    <div id="pagination"x>
      {% if page.prev and page.prev.active %}
      <div class="prev">
        <a href="{{ url('gallery_homepage', {'galleryId' : page.gallery.id , 'offset' : page.prev.offset }) }}">{{ app.translator.trans('prev') }}</a>
      </div>
      {% endif %}
      {% if page.next and page.next.active %}
      <div class="next">
        <a href="{{ url('gallery_homepage', {'galleryId' : page.gallery.id , 'offset' : page.next.offset }) }}">{{ app.translator.trans('next') }}</a>
      </div>
      {% endif %}
    </div>
  </div>
  {% else %}
    <p>{{ app.translator.trans('gallery.no.pictures') }}</p>
  {% endif %}

{% endblock %}

